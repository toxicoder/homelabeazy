---
apiVersion: v1
kind: List
items:
  - apiVersion: argoproj.io/v1alpha1
    kind: Application
    metadata:
      name: bitwarden
      namespace: argocd
    spec:
      project: default
      source:
        repoURL: '{{ bitwarden_repo_url }}'
        targetRevision: '{{ bitwarden_repo_revision }}'
        path: bitwarden
      destination:
        server: '{{ server_url }}'
        namespace: bitwarden
  - apiVersion: argoproj.io/v1alpha1
    kind: Application
    metadata:
      name: supabase
      namespace: argocd
    spec:
      project: default
      source:
        repoURL: '{{ supabase_repo_url }}'
        targetRevision: '{{ supabase_repo_revision }}'
        path: supabase
      destination:
        server: '{{ server_url }}'
        namespace: supabase
