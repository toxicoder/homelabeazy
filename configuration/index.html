<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Configuration - Homelabeazy Documentation</title>
<meta name="description" content="“Your Homelab as Code”">


  <meta name="author" content="Homelabeazy">
  


<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Homelabeazy Documentation">
<meta property="og:title" content="Configuration">
<meta property="og:url" content="https://homelabeazy.github.io/homelabeazy/configuration/">


  <meta property="og:description" content="“Your Homelab as Code”">





  <meta name="twitter:site" content="@homelabeazy">
  <meta name="twitter:title" content="Configuration">
  <meta name="twitter:description" content="“Your Homelab as Code”">
  <meta name="twitter:url" content="https://homelabeazy.github.io/homelabeazy/configuration/">

  
    <meta name="twitter:card" content="summary">
    
  

  








<link rel="canonical" href="https://homelabeazy.github.io/homelabeazy/configuration/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Homelabeazy Documentation Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/homelabeazy/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/homelabeazy/">
          Homelabeazy Documentation
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/homelabeazy/"
                
                
              >Home</a>
            </li><li class="masthead__menu-item">
              <a
                href="/homelabeazy/guides/"
                
                
              >Guides</a>
            </li><li class="masthead__menu-item">
              <a
                href="/homelabeazy/reference/"
                
                
              >Reference</a>
            </li><li class="masthead__menu-item">
              <a
                href="/homelabeazy/community/"
                
                
              >Community</a>
            </li><li class="masthead__menu-item">
              <a
                href="/homelabeazy/troubleshooting/"
                
                
              >Troubleshooting</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Configuration">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://homelabeazy.github.io/homelabeazy/configuration/" itemprop="url">Configuration
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h1 id="configuration">Configuration</h1>

<p>Welcome to the configuration guide for Homelabeazy! This document will walk you through the process of configuring your homelab environment. A solid understanding of these concepts will help you get the most out of your Homelabeazy setup.</p>

<h2 id="configuration-strategy">Configuration Strategy</h2>

<p>At the heart of Homelabeazy is the principle of “Infrastructure as Code” (IaC). This means that all the configuration for your homelab is stored in files, which can be versioned, shared, and reused. This approach has several advantages:</p>

<ul>
  <li><strong>Reproducibility:</strong> You can easily recreate your entire homelab setup from the configuration files.</li>
  <li><strong>Consistency:</strong> All your environments (development, testing, production) will be configured in the same way.</li>
  <li><strong>Automation:</strong> You can automate the process of setting up and managing your homelab.</li>
</ul>

<p>Your configuration is stored in a private Git repository that you control. The <code class="language-plaintext highlighter-rouge">make setup-interactive</code> script will help you generate the initial configuration files and commit them to your repository.</p>

<h2 id="configuration-file-types">Configuration File Types</h2>

<p>The configuration is split into several types of files, each with a specific purpose:</p>

<ol>
  <li><strong>Global Settings (<code class="language-plaintext highlighter-rouge">config.yml</code>):</strong> This file contains high-level settings for your homelab, such as your domain name and timezone.</li>
  <li><strong>Terraform Variables (<code class="language-plaintext highlighter-rouge">terraform.tfvars</code>):</strong> This file contains variables specific to the Proxmox infrastructure, such as your API credentials and the specifications for your virtual machines.</li>
  <li><strong>Ansible Inventory:</strong> This file tells Ansible which hosts to connect to and how to connect to them.</li>
  <li><strong>Application Configuration (<code class="language-plaintext highlighter-rouge">apps/</code>):</strong> This directory contains <code class="language-plaintext highlighter-rouge">values.yaml</code> files for each application. These files are used to configure the Helm charts that are deployed by ArgoCD.</li>
</ol>

<p>During the setup process, the <code class="language-plaintext highlighter-rouge">homelabeazy</code> repository will create a symlink named <code class="language-plaintext highlighter-rouge">private</code> that points to your private configuration directory. This allows the tools in this repository to access your configuration without you having to copy it over.</p>

<hr />

<h2 id="1-global-configuration-configyml">1. Global Configuration (<code class="language-plaintext highlighter-rouge">config.yml</code>)</h2>

<p>This file is the central place for all your high-level configuration. It is generated by the <code class="language-plaintext highlighter-rouge">homelab-importer</code> tool during the interactive setup, but you can also edit it manually.</p>

<p>Here’s a breakdown of the variables in this file:</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.domain_name</code></td>
      <td>The domain name for your homelab (e.g., <code class="language-plaintext highlighter-rouge">homelab.local</code>). This domain will be used to access the various services running in your homelab.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.timezone</code></td>
      <td>The timezone for your servers (e.g., <code class="language-plaintext highlighter-rouge">Etc/UTC</code>). It’s important to set this correctly to ensure that your logs and other time-sensitive data are accurate.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.load_balancer_ip</code></td>
      <td>The IP address to be used by the Kubernetes load balancer. This IP address must be on the same subnet as your homelab servers.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.proxmox_node</code></td>
      <td>The name of the Proxmox node where you want to deploy your virtual machines.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.proxmox_template</code></td>
      <td>The name of the cloud-init template to use for new VMs. This template should be a minimal Linux distribution, such as Ubuntu Cloud-init.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.proxmox_service_bridge</code></td>
      <td>The Proxmox network bridge for the service network. This bridge will be used for communication between the virtual machines in your homelab.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.proxmox_service_vlan_tag</code></td>
      <td>The VLAN tag for the service network. If you are not using VLANs, you can leave this blank.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.k3s_master_vm_id</code></td>
      <td>The VM ID for the K3s master node. This must be a unique ID in your Proxmox environment.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.k3s_worker_vm_id_start</code></td>
      <td>The starting VM ID for the K3s worker nodes. For example, if you set this to <code class="language-plaintext highlighter-rouge">101</code> and you have 3 worker nodes, the worker nodes will have VM IDs <code class="language-plaintext highlighter-rouge">101</code>, <code class="language-plaintext highlighter-rouge">102</code>, and <code class="language-plaintext highlighter-rouge">103</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">common.ldap_base_dn</code></td>
      <td>The base DN for the LDAP server. This is the top-level entry in your LDAP directory.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">secrets_to_generate</code></td>
      <td>A list of secrets to be generated by the <code class="language-plaintext highlighter-rouge">secure_gen</code> role. This is used to bootstrap the security of your homelab.</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="2-terraform-variables-terraformtfvars">2. Terraform Variables (<code class="language-plaintext highlighter-rouge">terraform.tfvars</code>)</h2>

<p>This file holds the variables needed by Terraform to provision the infrastructure on Proxmox. The <code class="language-plaintext highlighter-rouge">homelab-importer</code> tool will generate this file based on your existing Proxmox environment.</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">proxmox_api_url</code></td>
      <td>The URL of your Proxmox API (e.g., <code class="language-plaintext highlighter-rouge">https://proxmox.example.com/api2/json</code>).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">pm_token_id</code></td>
      <td>Your Proxmox API token ID. You can generate this in the Proxmox web UI under <code class="language-plaintext highlighter-rouge">Datacenter &gt; Permissions &gt; API Tokens</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">pm_token_secret</code></td>
      <td>Your Proxmox API token secret. This is a sensitive value and should be treated like a password.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">proxmox_node</code></td>
      <td>The name of the Proxmox node to deploy to. This should be the same value as <code class="language-plaintext highlighter-rouge">common.proxmox_node</code> in your <code class="language-plaintext highlighter-rouge">config.yml</code> file.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">proxmox_template</code></td>
      <td>The name of the cloud-init template to use for the VMs. This should be the same value as <code class="language-plaintext highlighter-rouge">common.proxmox_template</code> in your <code class="language-plaintext highlighter-rouge">config.yml</code> file.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">k3s_worker_count</code></td>
      <td>The number of K3s worker nodes to create. For most homelab setups, a single worker node is sufficient. If you plan to run a large number of applications, you may want to increase this value. Defaults to <code class="language-plaintext highlighter-rouge">1</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">k3s_master_memory</code></td>
      <td>The amount of memory (in MB) for the master VM. <code class="language-plaintext highlighter-rouge">2048</code> (2GB) is a good starting point. Defaults to <code class="language-plaintext highlighter-rouge">2048</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">k3s_master_cores</code></td>
      <td>The number of CPU cores for the master VM. <code class="language-plaintext highlighter-rouge">2</code> cores should be sufficient for most setups. Defaults to <code class="language-plaintext highlighter-rouge">2</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">k3s_worker_memory</code></td>
      <td>The amount of memory (in MB) for the worker VMs. <code class="language-plaintext highlighter-rouge">2048</code> (2GB) is a good starting point. Defaults to <code class="language-plaintext highlighter-rouge">2048</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">k3s_worker_cores</code></td>
      <td>The number of CPU cores for the worker VMs. <code class="language-plaintext highlighter-rouge">2</code> cores should be sufficient for most setups. Defaults to <code class="language-plaintext highlighter-rouge">2</code>.</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="3-ansible-inventory">3. Ansible Inventory</h2>

<p>The Ansible inventory file (<code class="language-plaintext highlighter-rouge">ansible/inventory/inventory.auto.yml</code>) is generated automatically when you run the interactive setup. The script uses the output of <code class="language-plaintext highlighter-rouge">terraform output -json</code> to create the inventory file. You should not need to edit this file manually.</p>

<p>This file tells Ansible which hosts to connect to and how to connect to them. It is a crucial part of the automation process, as it allows Ansible to configure your virtual machines and deploy your applications.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      

    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2025 <a href="https://homelabeazy.github.io">Homelabeazy Documentation</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/homelabeazy/assets/js/main.min.js"></script>




<script src="/homelabeazy/assets/js/lunr/lunr.min.js"></script>
<script src="/homelabeazy/assets/js/lunr/lunr-store.js"></script>
<script src="/homelabeazy/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
